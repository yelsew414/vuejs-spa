import{n as G,T as P,_ as b,o as E,c as k,a as $}from"./index.4c5b459f.js";import{s as w,l as S,a as T,c as y}from"./linear.ae9b472f.js";import{m as D}from"./max.0df7e00c.js";import{b as A}from"./band.df96d395.js";import{c as V}from"./dsv.928ac200.js";import{s as W}from"./selectAll.b77730c6.js";function C(t,n,o){var e=new P,d=n;return n==null?(e.restart(t,n,o),e):(e._restart=e.restart,e.restart=function(g,r,m){r=+r,m=m==null?G():+m,e._restart(function u(l){l+=d,e._restart(u,d+=r,m),g(l)},r,m)},e.restart(t,n,o),e)}const x=t=>+t;const I={mounted(){var t={top:30,right:30,bottom:30,left:100},n=700-t.left-t.right,o=500-t.top-t.bottom;const e=.2,d=750;V("https://raw.githubusercontent.com/yelsew414/data/main/2018GDP.csv").then(function(g){g.sort(a=>+a.GDP);var r=w("svg#animatedBar").append("svg").attr("width",n+t.left+t.right).attr("height",o+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");const m=5;let u=1,l=g.slice(0,1),p=S().domain([0,D(l,a=>+a.GDP)]).range([o,0]),_=T(p).ticks(10,"s");r.append("g").attr("class","yaxis").call(_),r.append("text").attr("x",n/2).attr("y",0-t.top/5).attr("text-anchor","middle").attr("font-size","35px").text("Animated Bar Chart");let c=A().domain(l.map(function(a){return a.Entity})).range([0,n]).padding(e);r.append("g").attr("class","xaxis").attr("transform","translate( 0,"+o+")").call(y(c)),r.selectAll("rect").data(l).enter().append("rect").attr("x",a=>c(a.Entity)).attr("y",a=>p(a.GDP)).attr("width",c.bandwidth()).attr("height",a=>o-p(a.GDP)).attr("fill","green"),r.selectAll("rect").on("mouseout",function(a){w(this).transition().duration(500).attr("fill","red")});function v(){u++;let a=0;u>m&&(a=u-m),l=g.slice(a,u);const f=r.transition().ease(x).duration(d);c=A().domain(l.map(i=>i.Entity)).range([0,n]).padding(e),r.selectAll("g.xaxis").transition().ease(x).duration(d).call(y(c)),p.domain([0,D(l,i=>+i.GDP)]),r.selectAll("g.yaxis").transition().ease(x).duration(d).call(_),r.selectAll("rect").data(l,i=>i.Entity).join(i=>i.append("rect").attr("y",h=>0).attr("x",h=>n).attr("height",h=>0).attr("width",c.bandwidth()).call(h=>h.transition(f).attr("x",s=>c(s.Entity)).attr("fill","green").attr("height",s=>o-p(s.GDP)).attr("y",s=>p(s.GDP))),i=>i.call(h=>h.transition(f).attr("height",s=>o-p(s.GDP)).attr("x",(s,B)=>c(s.Entity)).attr("y",(s,B)=>p(s.GDP)).attr("width",c.bandwidth())),i=>i.call(h=>h.transition(f).attr("width",0).remove()))}W("#animationTrigger").on("click",v),C(v,d)})},data(){return{greeting:"Hello World!"}},methods:{}},N=$("svg",{id:"animatedBar"},null,-1),j=[N];function z(t,n,o,e,d,g){return E(),k("div",null,j)}var J=b(I,[["render",z]]);export{J as default};
